<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>vue-component-data-sum</title>
	<script src="../0-vue-js/vue.js"></script>
</head>
<body>
	<div id="app">
		<counter ref="one" @change="totalChange"></counter>
		<counter ref="two" @change="totalChange"></counter>
		<div>
			{{total}}
		</div>
	</div>
	<script>
		Vue.component('counter',{
			template: '<div @click="counterClick" >{{num}}</div>',
			data: function () {
				var num = {
					num: 0,
				};
				return num;
			},
			methods: {
				counterClick: function (){
					this.num ++;
					this.$emit('change');
					// console.log(this.num);
				},
			},
		});
		var vm = new Vue({
			el: '#app',
			data: {
				total: 0,
			},
			methods: {
				totalChange: function (){
					this.total = this.$refs.one.num + this.$refs.two.num;
					// console.log(this.$refs.one.num);
				},
			},
		});
	</script>
	
</body>
</html>